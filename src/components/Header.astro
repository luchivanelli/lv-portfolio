---
---

<header class="h-[80px] flex justify-center items-center">
  <nav class="border-2 border-[#7a7a7a50] rounded-3xl w-2/3 py-2 flex justify-between max-w-[600px]">
    <!-- Links desktop -->
    <div id="nav-links" class="lg:flex gap-3 px-2 text-primary hidden">
      <a href="#home" class="nav-link link p-2 text-secondary cursor-pointer rounded-3xl" data-target="home">Home</a>
      <a href="#experience" class="nav-link link p-2 text-secondary cursor-pointer rounded-3xl" data-target="experience">Experience</a>
      <a href="#projects" class="nav-link link p-2 text-secondary cursor-pointer rounded-3xl" data-target="projects">Projects</a>
      <a href="#about-me" class="nav-link link p-2 text-secondary cursor-pointer rounded-3xl" data-target="about-me">About me</a>
    </div>

    <!-- Icons -->
    <div id="nav-icons" class="px-4 flex justify-center items-center gap-3">
      <a href="https://www.linkedin.com/in/luciana-vanelli/" target="_blank" rel="noopener noreferrer">
        <img src="/assets/brand-linkedin.svg" alt="Linkedin" class="w-6 h-6 hover:scale-110 transition-all">
      </a>
      <a href="https://github.com/luchivanelli" target="_blank" rel="noopener noreferrer">
        <img src="/assets/github.svg" alt="Github" class="w-6 h-6 hover:scale-110 transition-all">
      </a>
      <a href="mailto:lucianavanelli13@gmail.com" target="_blank" rel="noopener noreferrer">
        <img src="/assets/mail.svg" alt="Gmail" class="w-6 h-6 hover:scale-110 transition-all">
      </a>
    </div>

    <!-- Mobile -->
    <div class="lg:hidden py-1 z-20">
      <img id="button-nav" class="px-4 cursor-pointer" src="/assets/menu-3.svg" alt="">
      <div
        id="nav-mobile"
        class="fixed top-0 left-0 h-screen flex flex-col justify-center gap-3 z-40 w-[200px] bg-[#141414fa] border-r-[1px] border-[#7a7a7a50] py-10 px-5
        transform -translate-x-full text-white text-center"
      >
        <a href="#home" class="nav-link link p-2 rounded-3xl" data-target="home">Home</a>
        <a href="#experience" class="nav-link link p-2 rounded-3xl" data-target="experience">Experience</a>
        <a href="#projects" class="nav-link link p-2 rounded-3xl" data-target="projects">Projects</a>
        <a href="#about-me" class="nav-link link p-2 rounded-3xl" data-target="about-me">About me</a>
        <span id="close-nav" class="cursor-pointer border-[1px] border-[#7a7a7a50] p-2 rounded-3xl">Cerrar</span>
      </div>
    </div>
  </nav>
</header>

<style>
  .link:hover,
  span:hover {
    background-color: #7a7a7a50;
  }
</style>

<script>
  import { gsap } from "gsap";
  import ScrollToPlugin from "gsap/ScrollToPlugin";

  gsap.registerPlugin(ScrollToPlugin);

  const buttonNav = document.getElementById("button-nav");
  const navMobile = document.getElementById("nav-mobile");
  const closeNav = document.getElementById("close-nav");
  const navLinks = document.querySelectorAll(".nav-link");

  // Función para scroll suave a secciones
  function scrollToSection(target) {
    const element = document.getElementById(target);
    if (element) {
      gsap.to(window, {
        duration: 1.5,
        scrollTo: {
          y: element,
          offsetY: 80 // Offset para el header
        },
        ease: "power2.inOut"
      });
    }
  }

  // Event listeners para todos los links de navegación
  navLinks.forEach(link => {
    link.addEventListener("click", (e) => {
      e.preventDefault(); // Prevenir el comportamiento nativo
      const target = link.getAttribute("data-target");
      
      // Cerrar menú móvil si está abierto
      if (window.innerWidth < 1024) {
        gsap.to(navMobile, {
          x: "-100%",
          duration: 0.3,
          ease: "power2.in"
        });
      }
      
      // Scroll a la sección
      scrollToSection(target);
    });
  });

  // Animación de entrada del header
  gsap.from("header", {
    y: -80,
    opacity: 0,
    duration: 1,
    delay: 1,
    ease: "power3.out"
  });

  // Animación escalonada de los links (desktop)
  gsap.from("#nav-links a", {
    opacity: 0,
    y: -20,
    duration: 0.6,
    stagger: 0.1,
    delay: 1.3,
    ease: "power2.out"
  });

  // Animación escalonada de los íconos
  gsap.from("#nav-icons a", {
    opacity: 0,
    scale: 0.5,
    duration: 0.5,
    stagger: 0.15,
    delay: 1.6,
    ease: "back.out(1.7)"
  });

  // Mobile menu con gsap
  buttonNav.addEventListener("click", () => {
    gsap.to(navMobile, {
      x: 0,
      duration: 0.5,
      ease: "power2.out"
    });
  });

  closeNav.addEventListener("click", () => {
    gsap.to(navMobile, {
      x: "-100%",
      duration: 0.5,
      ease: "power2.in"
    });
  });
</script>